<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü—Ä–æ—Ñ–∏–ª—å</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- ===== HEADER ===== -->
<header class="header">

  <div class="header-left">
    <a href="index.html">
      <img src="images/logo-nngasu.png">
    </a>
  </div>

  <div class="header-title">
    –ü—Ä–æ—Ñ–∏–ª—å
  </div>

  <div class="header-right">

    <!-- –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ -->
    <a href="auth.html" class="auth-btn" id="loginBtn">
      –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
    </a>

    <!-- –±–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="userBlock" style="display:none;">
      <img src="images/avatar.png" class="avatar-small">
      <span id="userName"></span>
    </div>

  </div>

</header>


<!-- ===== LAYOUT ===== -->
<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <button class="nav-btn" onclick="location.href='index.html'">üè† –ì–ª–∞–≤–Ω–∞—è</button>
    <button class="nav-btn">üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
    <button class="nav-btn">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
    <button class="nav-btn">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–∞</button>
    <button class="nav-btn active">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
  </aside>


  <!-- CONTENT -->
  <main class="content">

    <div class="profile" id="profileContainer" style="display:none;">

      <!-- logout -->
      <button id="logoutBtn" class="logout-btn">–í—ã–π—Ç–∏</button>

      <!-- –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–≤–∞—Ç–∞—Ä -->
      <img src="images/avatar.png" class="avatar">

      <!-- –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div class="profile-info">

        <h2 id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>

        <p class="profile-email" id="profileEmail">
          email@example.com
        </p>

        <p>
          –†–æ–ª—å:
          <strong id="profileRole">–ó–∞–≥—Ä—É–∑–∫–∞...</strong>
        </p>

      </div>

    </div>

    <!-- –µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
    <div id="notAuth" style="display:none;">
      <h2>–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã</h2>
      <a href="auth.html">–í–æ–π—Ç–∏</a>
    </div>

  </main>

</div>


<!-- Firebase auth -->
<script type="module" src="js/auth-state.js"></script>

<!-- –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
<script type="module" src="js/profile.js"></script>

<!-- logout -->
<script type="module">
import { auth, signOut } from "./js/firebase.js";

document.getElementById("logoutBtn").onclick = async () => {
  await signOut(auth);
  window.location.href = "auth.html";
};
</script>

</body>
</html>
