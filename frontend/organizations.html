<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–°–æ–æ–±—â–µ—Å—Ç–≤–∞</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<header class="header">
    <div class="header-left">
        <a href="index.html">
            <img src="images/logo-nngasu.png" alt="–ù–ù–ì–ê–°–£">
        </a>
    </div>

    <div class="header-title">
        –°–æ–æ–±—â–µ—Å—Ç–≤–∞
    </div>

    <div class="header-right" id="authSection">
        <a href="auth.html" class="auth-btn">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a>
    </div>
</header>

<div class="layout">
    <aside class="sidebar">
        <button class="nav-btn" onclick="location.href='index.html'">üè† –ì–ª–∞–≤–Ω–∞—è</button>
        <button class="nav-btn" onclick="location.href='events.html'">üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
        <button class="nav-btn" onclick="location.href='rating.html'">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
        <button class="nav-btn active" onclick="location.href='organizations.html'">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–∞</button>
    </aside>

    <main class="content">
        <h1>–°–æ–æ–±—â–µ—Å—Ç–≤–∞</h1>
        
        <div class="communities-grid" id="communitiesGrid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </main>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
<div class="community-modal" id="communityModal">
    <div class="modal-content">
        <button class="modal-close" id="closeModal">&times;</button>
        <div class="modal-icon" id="modalIcon">
            <i class="fas fa-users"></i>
        </div>
        <h2 class="modal-title" id="modalName">–ò–º—è –°–æ–æ–±—â–µ—Å—Ç–≤–∞</h2>
        <p class="modal-theme" id="modalTheme">–¢–µ–º–∞—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</p>
        
        <div class="modal-stats">
            <div class="modal-stat">
                <div class="modal-stat-value" id="modalMembers">0</div>
                <div class="modal-stat-label">—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
            </div>
            <div class="modal-stat">
                <div class="modal-stat-value" id="modalEvents">0</div>
                <div class="modal-stat-label">–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</div>
            </div>
        </div>
        
        <div class="modal-section">
            <h4><i class="fas fa-info-circle"></i> –û —Å–æ–æ–±—â–µ—Å—Ç–≤–µ</h4>
            <p id="modalDescription">–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞...</p>
        </div>
        
        <div class="modal-actions">
            <button class="modal-btn modal-btn-primary" id="joinFromModal">–í—Å—Ç—É–ø–∏—Ç—å</button>
            <button class="modal-btn modal-btn-secondary" id="closeModalBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<style>
/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤ */
.communities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.community-card {
    background: white;
    border-radius: 20px;
    padding: 25px 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    transition: transform 0.3s, box-shadow 0.3s;
    cursor: pointer;
    border: 1px solid rgba(0,0,0,0.05);
}

.community-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 30px rgba(79,141,245,0.15);
}

.community-icon {
    width: 60px;
    height: 60px;
    border-radius: 18px;
    background: linear-gradient(135deg, #4f8df5, #7ab6ff);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 18px;
    color: white;
    font-size: 28px;
    box-shadow: 0 8px 18px rgba(79,141,245,0.3);
}

.community-icon.volunteer { background: linear-gradient(135deg, #ff8a3d, #ffb347); }
.community-icon.media { background: linear-gradient(135deg, #9c27b0, #ba68c8); }
.community-icon.science { background: linear-gradient(135deg, #2e7d32, #4caf50); }
.community-icon.sport { background: linear-gradient(135deg, #f44336, #ff7961); }
.community-icon.culture { background: linear-gradient(135deg, #e91e63, #ff6090); }

.community-name {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.community-theme {
    font-size: 14px;
    color: #666;
    margin-bottom: 20px;
    line-height: 1.5;
}

.community-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 1px solid #f0f0f0;
    padding-top: 15px;
}

.community-stats {
    display: flex;
    gap: 15px;
}

.community-stats .stat {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 13px;
    color: #666;
}

.community-stats .stat i {
    color: #4f8df5;
    font-size: 14px;
}

.join-btn {
    background: #f0f0f0;
    border: none;
    padding: 6px 16px;
    border-radius: 30px;
    font-size: 13px;
    font-weight: 500;
    color: #4f8df5;
    cursor: pointer;
    transition: all 0.2s;
    z-index: 2;
}

.join-btn:hover {
    background: #4f8df5;
    color: white;
}

.join-btn.joined {
    background: #e8f0fe;
    color: #4f8df5;
    border: 1px solid #4f8df5;
}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ */
.community-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.community-modal.active {
    display: flex;
}

.community-modal .modal-content {
    background: white;
    border-radius: 24px;
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    padding: 30px;
    position: relative;
}

.community-modal .modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #999;
}

.community-modal .modal-close:hover {
    color: #333;
}

.community-modal .modal-icon {
    width: 70px;
    height: 70px;
    border-radius: 20px;
    background: linear-gradient(135deg, #4f8df5, #7ab6ff);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    color: white;
    font-size: 32px;
}

.community-modal .modal-title {
    font-size: 26px;
    margin-bottom: 8px;
    color: #333;
}

.community-modal .modal-theme {
    color: #666;
    margin-bottom: 25px;
    font-size: 16px;
}

.community-modal .modal-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-bottom: 25px;
    text-align: center;
}

.community-modal .modal-stat {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 12px;
}

.community-modal .modal-stat-value {
    font-size: 24px;
    font-weight: 600;
    color: #4f8df5;
}

.community-modal .modal-stat-label {
    font-size: 12px;
    color: #666;
    margin-top: 4px;
}

.community-modal .modal-section {
    margin-bottom: 20px;
}

.community-modal .modal-section h4 {
    font-size: 16px;
    color: #333;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.community-modal .modal-section h4 i {
    color: #4f8df5;
}

.community-modal .modal-section p {
    color: #666;
    line-height: 1.6;
    font-size: 14px;
}

.community-modal .modal-actions {
    display: flex;
    gap: 15px;
    margin-top: 25px;
}

.community-modal .modal-btn {
    flex: 1;
    padding: 14px;
    border: none;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.community-modal .modal-btn-primary {
    background: linear-gradient(135deg, #4f8df5, #7ab6ff);
    color: white;
}

.community-modal .modal-btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(79,141,245,0.3);
}

.community-modal .modal-btn-secondary {
    background: #f0f0f0;
    color: #666;
}

.community-modal .modal-btn-secondary:hover {
    background: #e0e0e0;
}
</style>

<!-- –í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞, –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º body -->
<script type="module" src="js/auth-state.js"></script>
<script src="js/communities.js"></script>

</body>
</html>