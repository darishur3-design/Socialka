<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<header class="header">
    <div class="header-left">
        <a href="index.html">
            <img src="images/logo-nngasu.png" alt="–ù–ù–ì–ê–°–£">
        </a>
    </div>

    <div class="header-title" id="pageTitle">
        –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
    </div>

    <div class="header-right" id="authSection">
        <a href="auth.html" class="auth-btn">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a>
    </div>

</header>

<div class="layout">

    <aside class="sidebar">
        <button class="nav-btn" onclick="location.href='index.html'">üè† –ì–ª–∞–≤–Ω–∞—è</button>
        <button class="nav-btn active" onclick="location.href='events.html'">üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
        <button class="nav-btn" onclick="location.href='rating.html'">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
        <button class="nav-btn" onclick="location.href='organizations.html'">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–∞</button>
    </aside>

    <main class="content">
        <h1>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h1>
        
        <!-- –§–∏–ª—å—Ç—Ä—ã –∫–∞–∫ –≤ –º–∞–∫–µ—Ç–µ -->
        <div class="filters-bar">
            <div class="filter-item" id="dateFilter">
                –î–∞—Ç–∞ <i class="fas fa-chevron-down"></i>
                <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
                <div class="dropdown-menu calendar-dropdown" id="dateDropdown">
                    <div class="calendar-header">
                        <span class="calendar-month" id="currentMonth">–ú–∞—Ä—Ç 2026</span>
                        <div class="calendar-nav">
                            <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                            <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar-weekdays">
                        <span>–ü–Ω</span><span>–í—Ç</span><span>–°—Ä</span><span>–ß—Ç</span><span>–ü—Ç</span><span>–°–±</span><span>–í—Å</span>
                    </div>
                    <div class="calendar-days" id="calendarDays"></div>
                    <div class="calendar-footer">
                        <button class="calendar-btn clear" id="clearDate">–°–±—Ä–æ—Å–∏—Ç—å</button>
                        <button class="calendar-btn apply" id="applyDate">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
            
            <div class="filter-item" id="timeFilter">
                –í—Ä–µ–º—è <i class="fas fa-chevron-up"></i>
                <div class="dropdown-menu" id="timeDropdown">
                    <div class="dropdown-item" data-time="all">–õ—é–±–æ–µ –≤—Ä–µ–º—è</div>
                    <div class="dropdown-item" data-time="morning">–£—Ç—Ä–æ (–¥–æ 12:00)</div>
                    <div class="dropdown-item" data-time="day">–î–µ–Ω—å (12:00-18:00)</div>
                    <div class="dropdown-item" data-time="evening">–í–µ—á–µ—Ä (–ø–æ—Å–ª–µ 18:00)</div>
                </div>
            </div>
            
            <div class="filter-item" id="communityFilter">
                –°–æ–æ–±—â–µ—Å—Ç–≤–æ <i class="fas fa-chevron-down"></i>
                <div class="dropdown-menu" id="communityDropdown">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –ë–î -->
                </div>
            </div>
            
            <div class="filter-item" id="formatFilter">
                –§–æ—Ä–º–∞—Ç <i class="fas fa-chevron-down"></i>
                <div class="dropdown-menu" id="formatDropdown">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –ë–î -->
                </div>
            </div>
            
            <div class="filter-item" id="locationFilter">
                –ú–µ—Å—Ç–æ <i class="fas fa-chevron-down"></i>
                <div class="dropdown-menu" id="locationDropdown">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –ë–î -->
                </div>
            </div>
        </div>

        <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
        <div class="active-filters" id="activeFilters"></div>
        
        <!-- –°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π -->
        <div class="events-grid" id="eventsGrid">
            <div class="loading">
                <i class="fas fa-spinner"></i> –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π...
            </div>
        </div>
    </main>

</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è -->
<div class="event-modal" id="eventModal">
    <div class="modal-content">
        <button class="modal-close" id="closeModal">&times;</button>
        <h2 class="modal-title" id="modalTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h2>
        <div class="modal-organizers" id="modalOrganizers">
            <i class="fas fa-users"></i> –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã:
        </div>
        
        <div class="modal-detail">
            <div class="modal-detail-label">–î–∞—Ç–∞</div>
            <div class="modal-detail-value" id="modalDate">**-**-****</div>
        </div>
        
        <div class="modal-detail">
            <div class="modal-detail-label">–í—Ä–µ–º—è</div>
            <div class="modal-detail-value" id="modalTime">18:00</div>
        </div>
        
        <div class="modal-detail">
            <div class="modal-detail-label">–§–æ—Ä–º–∞—Ç</div>
            <div class="modal-detail-value" id="modalFormat">–û—Ñ–ª–∞–π–Ω</div>
        </div>
        
        <div class="modal-detail">
            <div class="modal-detail-label">–ú–µ—Å—Ç–æ</div>
            <div class="modal-detail-value" id="modalLocation">–ì–ª–∞–≤–Ω—ã–π –∫–æ—Ä–ø—É—Å, –∞—É–¥. 301</div>
        </div>
        
        <div class="modal-detail">
            <div class="modal-detail-label">–û–ø–∏—Å–∞–Ω–∏–µ</div>
            <div class="modal-detail-value" id="modalDescription">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è...</div>
        </div>
        
        <div class="modal-actions">
            
            <button class="modal-btn modal-btn-secondary" id="closeModalBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<script type="module" src="js/auth-state.js"></script>
<script>
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    let filters = {
        date: null,
        time: 'all',
        community: 'all',
        format: 'all',
        location: 'all'
    };

    // –î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
    let eventsData = [];
    let communitiesData = [];

    // –ö–∞–ª–µ–Ω–¥–∞—Ä—å
    let currentDate = new Date();
    let selectedDate = null;

    function formatDate(date) {
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        return `${day}-${month}-${year}`;
    }

    function renderCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        
        const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', 
                           '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
        
        document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
        
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        
        let startDay = firstDay.getDay();
        if (startDay === 0) startDay = 6;
        else startDay--;
        
        const daysInMonth = lastDay.getDate();
        
        let calendarHtml = '';
        
        for (let i = 0; i < startDay; i++) {
            calendarHtml += '<div class="calendar-day empty"></div>';
        }
        
        for (let d = 1; d <= daysInMonth; d++) {
            const dateStr = formatDate(new Date(year, month, d));
            const isSelected = selectedDate === dateStr;
            calendarHtml += `<div class="calendar-day ${isSelected ? 'selected' : ''}" data-date="${dateStr}">${d}</div>`;
        }
        
        document.getElementById('calendarDays').innerHTML = calendarHtml;
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
    async function loadData() {
        try {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
            const eventsResponse = await fetch('http://localhost:8080/api/events');
            eventsData = await eventsResponse.json();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞
            const communitiesResponse = await fetch('http://localhost:8080/api/communities');
            communitiesData = await communitiesResponse.json();
            
            // –ü–æ–ª—É—á–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞ –∏–∑ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
            const locations = [...new Set(eventsData.map(e => e.location))];
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∏–ª—å—Ç—Ä—ã
            loadFiltersData(communitiesData, locations);
            renderEvents();
            
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
            document.getElementById('eventsGrid').innerHTML = `
                <div style="text-align: center; padding: 50px; color: #ff4444;">
                    <i class="fas fa-exclamation-circle"></i> –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
                </div>
            `;
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∏–ª—å—Ç—Ä—ã
    function loadFiltersData(communities, locations) {
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤
        const communityDropdown = document.getElementById('communityDropdown');
        let communityHtml = '<div class="dropdown-item" data-community="all">–í—Å–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</div>';
        communities.forEach(community => {
            communityHtml += `<div class="dropdown-item" data-community="${community.name}">${community.name}</div>`;
        });
        communityDropdown.innerHTML = communityHtml;
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤
        const formatDropdown = document.getElementById('formatDropdown');
        formatDropdown.innerHTML = `
            <div class="dropdown-item" data-format="all">–í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã</div>
            <div class="dropdown-item" data-format="–û—Ñ–ª–∞–π–Ω">–û—á–Ω–æ</div>
            <div class="dropdown-item" data-format="–û–Ω–ª–∞–π–Ω">–û–Ω–ª–∞–π–Ω</div>
        `;
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Å—Ç
        const locationDropdown = document.getElementById('locationDropdown');
        let locationHtml = '<div class="dropdown-item" data-location="all">–í—Å–µ –º–µ—Å—Ç–∞</div>';
        locations.forEach(location => {
            locationHtml += `<div class="dropdown-item" data-location="${location}">${location}</div>`;
        });
        locationDropdown.innerHTML = locationHtml;
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
    function filterEvents() {
        return eventsData.filter(event => {
            if (filters.date && event.date !== filters.date) return false;
            
            if (filters.time !== 'all') {
                const hour = parseInt(event.time?.split(':')[0] || '10');
                if (filters.time === 'morning' && hour >= 12) return false;
                if (filters.time === 'day' && (hour < 12 || hour >= 18)) return false;
                if (filters.time === 'evening' && hour < 18) return false;
            }
            
            if (filters.community !== 'all' && event.community !== filters.community) return false;
            if (filters.format !== 'all' && event.format !== filters.format) return false;
            if (filters.location !== 'all' && event.location !== filters.location) return false;
            
            return true;
        });
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function updateActiveFilters() {
        const container = document.getElementById('activeFilters');
        container.innerHTML = '';
        
        if (filters.date) {
            container.innerHTML += `
                <span class="active-filter">
                    ${filters.date} <i class="fas fa-times" onclick="removeFilter('date')"></i>
                </span>
            `;
        }
        
        if (filters.time !== 'all') {
            const timeLabels = { morning: '–£—Ç—Ä–æ', day: '–î–µ–Ω—å', evening: '–í–µ—á–µ—Ä' };
            container.innerHTML += `
                <span class="active-filter">
                    ${timeLabels[filters.time]} <i class="fas fa-times" onclick="removeFilter('time')"></i>
                </span>
            `;
        }
        
        if (filters.community !== 'all') {
            container.innerHTML += `
                <span class="active-filter">
                    ${filters.community} <i class="fas fa-times" onclick="removeFilter('community')"></i>
                </span>
            `;
        }
        
        if (filters.format !== 'all') {
            container.innerHTML += `
                <span class="active-filter">
                    ${filters.format} <i class="fas fa-times" onclick="removeFilter('format')"></i>
                </span>
            `;
        }
        
        if (filters.location !== 'all') {
            container.innerHTML += `
                <span class="active-filter">
                    ${filters.location} <i class="fas fa-times" onclick="removeFilter('location')"></i>
                </span>
            `;
        }
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞
    window.removeFilter = function(filter) {
        if (filter === 'date') {
            filters.date = null;
            selectedDate = null;
        } else if (filter === 'time') {
            filters.time = 'all';
        } else if (filter === 'community') {
            filters.community = 'all';
        } else if (filter === 'format') {
            filters.format = 'all';
        } else if (filter === 'location') {
            filters.location = 'all';
        }
        renderEvents();
        updateActiveFilters();
    };

    // –†–µ–Ω–¥–µ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
    function renderEvents() {
        const grid = document.getElementById('eventsGrid');
        const filtered = filterEvents();
        
        if (filtered.length === 0) {
            grid.innerHTML = '<div style="text-align: center; padding: 50px; color: #666;">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            return;
        }
        
        grid.innerHTML = '';
        
        filtered.forEach(event => {
            const formatClass = event.format === '–û–Ω–ª–∞–π–Ω' ? 'online' : 'offline';
            
            const card = document.createElement('div');
            card.className = 'event-card';
            card.dataset.id = event.id;
            
            card.innerHTML = `
                <div class="event-info">
                    <h3>${event.title}</h3>
                    <div class="event-organizers">
                        <i class="fas fa-users"></i> –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã: ${event.community}
                    </div>
                    <div class="event-date">
                        <i class="far fa-calendar-alt"></i>
                        <span>${event.date}</span>
                    </div>
                </div>
                <div class="event-tags">
                    <span class="event-tag ${formatClass}">${event.format}</span>
                    <span class="event-tag">${event.community}</span>
                </div>
                <div class="event-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            `;
            
            card.addEventListener('click', () => openEventModal(event));
            grid.appendChild(card);
        });
    }

    function openEventModal(event) {
        document.getElementById('modalTitle').textContent = event.title;
        document.getElementById('modalOrganizers').innerHTML = `<i class="fas fa-users"></i> –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã: ${event.community}`;
        document.getElementById('modalDate').textContent = event.date;
        document.getElementById('modalTime').textContent = event.time || '10:00';
        document.getElementById('modalFormat').textContent = event.format;
        document.getElementById('modalLocation').textContent = event.location;
        document.getElementById('modalDescription').textContent = event.description;
        
        document.getElementById('eventModal').classList.add('active');
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –¥—Ä–æ–ø–¥–∞—É–Ω–æ–≤
    function closeAllDropdowns() {
        document.querySelectorAll('.dropdown-menu').forEach(menu => {
            menu.classList.remove('show');
        });
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
        renderCalendar();
        loadData();
        
        // –î–∞—Ç–∞ —Ñ–∏–ª—å—Ç—Ä
        const dateFilter = document.getElementById('dateFilter');
        const dateDropdown = document.getElementById('dateDropdown');
        
        dateFilter.addEventListener('click', (e) => {
            e.stopPropagation();
            closeAllDropdowns();
            dateDropdown.classList.toggle('show');
        });
        
        document.getElementById('prevMonth').addEventListener('click', (e) => {
            e.stopPropagation();
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });
        
        document.getElementById('nextMonth').addEventListener('click', (e) => {
            e.stopPropagation();
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });
        
        document.getElementById('calendarDays').addEventListener('click', (e) => {
            e.stopPropagation();
            const day = e.target.closest('.calendar-day[data-date]');
            if (day) {
                document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                day.classList.add('selected');
                selectedDate = day.dataset.date;
            }
        });
        
        document.getElementById('applyDate').addEventListener('click', (e) => {
            e.stopPropagation();
            if (selectedDate) {
                filters.date = selectedDate;
                dateDropdown.classList.remove('show');
                renderEvents();
                updateActiveFilters();
            }
        });
        
        document.getElementById('clearDate').addEventListener('click', (e) => {
            e.stopPropagation();
            selectedDate = null;
            filters.date = null;
            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
            dateDropdown.classList.remove('show');
            renderEvents();
            updateActiveFilters();
        });
        
        // –í—Ä–µ–º—è —Ñ–∏–ª—å—Ç—Ä
        const timeFilter = document.getElementById('timeFilter');
        const timeDropdown = document.getElementById('timeDropdown');
        
        timeFilter.addEventListener('click', (e) => {
            e.stopPropagation();
            closeAllDropdowns();
            timeDropdown.classList.toggle('show');
        });
        
        timeDropdown.addEventListener('click', (e) => {
            e.stopPropagation();
            const item = e.target.closest('.dropdown-item');
            if (item) {
                filters.time = item.dataset.time;
                timeDropdown.classList.remove('show');
                renderEvents();
                updateActiveFilters();
            }
        });
        
        // –°–æ–æ–±—â–µ—Å—Ç–≤–æ —Ñ–∏–ª—å—Ç—Ä
        const communityFilter = document.getElementById('communityFilter');
        const communityDropdown = document.getElementById('communityDropdown');
        
        communityFilter.addEventListener('click', (e) => {
            e.stopPropagation();
            closeAllDropdowns();
            communityDropdown.classList.toggle('show');
        });
        
        communityDropdown.addEventListener('click', (e) => {
            e.stopPropagation();
            const item = e.target.closest('.dropdown-item');
            if (item) {
                filters.community = item.dataset.community;
                communityDropdown.classList.remove('show');
                renderEvents();
                updateActiveFilters();
            }
        });
        
        // –§–æ—Ä–º–∞—Ç —Ñ–∏–ª—å—Ç—Ä
        const formatFilter = document.getElementById('formatFilter');
        const formatDropdown = document.getElementById('formatDropdown');
        
        formatFilter.addEventListener('click', (e) => {
            e.stopPropagation();
            closeAllDropdowns();
            formatDropdown.classList.toggle('show');
        });
        
        formatDropdown.addEventListener('click', (e) => {
            e.stopPropagation();
            const item = e.target.closest('.dropdown-item');
            if (item) {
                filters.format = item.dataset.format;
                formatDropdown.classList.remove('show');
                renderEvents();
                updateActiveFilters();
            }
        });
        
        // –ú–µ—Å—Ç–æ —Ñ–∏–ª—å—Ç—Ä
        const locationFilter = document.getElementById('locationFilter');
        const locationDropdown = document.getElementById('locationDropdown');
        
        locationFilter.addEventListener('click', (e) => {
            e.stopPropagation();
            closeAllDropdowns();
            locationDropdown.classList.toggle('show');
        });
        
        locationDropdown.addEventListener('click', (e) => {
            e.stopPropagation();
            const item = e.target.closest('.dropdown-item');
            if (item) {
                filters.location = item.dataset.location;
                locationDropdown.classList.remove('show');
                renderEvents();
                updateActiveFilters();
            }
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–æ–≤ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.filter-item')) {
                closeAllDropdowns();
            }
        });
        
        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        const modal = document.getElementById('eventModal');
        const closeBtn = document.getElementById('closeModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        
        function closeModal() {
            modal.classList.remove('active');
        }
        
        closeBtn.addEventListener('click', closeModal);
        closeModalBtn.addEventListener('click', closeModal);
        
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        
        document.getElementById('registerEvent').addEventListener('click', () => {
            alert('–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ!');
            closeModal();
        });
    });
</script>

</body>
</html>